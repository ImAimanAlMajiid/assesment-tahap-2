<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        integrity="sha512-baxB/HV16TkBHy6Dg8M79SCGlv6oLpCKC/Joa5H4SSz7r0ZF4RHJrh8p+9S3GrfoeOst9dyeGOpqiNIVBae1jA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="script.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <title>Food and Drink List</title>
</head>
<style>
    .content {
        padding: 20px;
    }

    .item-box {
        border: 1px solid #ddd;
        padding: 15px;
        margin-bottom: 15px;
    }

    .remove-btn {
        cursor: pointer;
    }

    .dropbtn {
        background-color: black;
        color: white;
        padding: 16px;
        width: 456px;
        font-size: 16px;
        cursor: pointer;
    }

    .dropbtn:hover,
    .dropbtn:focus {
        background-color: #2980B9;
    }

    .dropdown {
        position: relative;
        display: inline-block;
    }

    .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f1f1f1;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
        z-index: 1;
    }

    .dropdown-content a {
        color: black;
        padding: 16px;
        text-decoration: none;
        display: block;
    }

    .dropdown-content a:hover {
        background-color: #ddd;
    }

    .show {
        display: block;
    }

    .list-group-item {
        background-color: #3498DB;
        color: white;
        padding: 16px;
        font-size: 16px;
    }

    .item-list {
        height: 575px;
    }

    .item-barang {
        height: 50px;
    }

    .item-barang1 {
        height: 22px;
    }
</style>

<body style="background-color: azure;">
    <div>
        <nav class="navbar navbar-expand-md bg-dark navbar-nav">
            <div class="container-fluid">
                <span class="navbar-text fst-italic fs-3">
                    <Strong style="color: antiquewhite;">
                        <h3>STARBHAK MART</h3>
                    </Strong>
                </span>
            </div>
        </nav>
        <div class="d-flex">
            <div class="col-3">
                <div class="container-fluid mt-2">
                    <div class="dropdown">
                        <button onclick="myFunction()" class="dropbtn">Take Away</button>
                        <div id="myDropdown" class="dropdown-content"><a href="#">Gofood mas?</a></div>
                    </div>
                </div>
                <div class="container-fluid mt-2">
                    <div class="d-flex justify-content-center bg-dark ">
                        <strong style="color: antiquewhite;">
                            <h5 class="fst-italic fs-3">AIMANNNN</h5>
                        </strong>
                    </div>
                </div>

                <div id="item-list" class="item-list bg-secondary mt-2 ms-1 overflow-auto"></div>
                <div id="item-barang" class="item-barang bg-secondary mt-2 ms-1">
                    <h6></h6>
                    <h6></h6>
                </div>
                <div class="item-barang1 bg-dark mt-2 ms-1">
                    <h6></h6>
                </div>
                <button id="exportBtn" onclick="printContent()" class="mt-2 ms-2 md-2 me-2 bg-dark"
                    style=" color: azure; height: 100px; width: 470px;">
                    <h4>BAYAR!!!</h4>
                </button>
            </div>
            <div class="col-8">
                <!-- Kotak Pencarian -->
                <div class="input-group mb-3 mt-3 ms-5">
                    <input type="text" id="searchInput" class="form-control" placeholder="Cari...">
                    <div class="input-group-append">
                        <button class="btn btn-outline-secondary ms-2" type="button" onclick="search()">Cari</button>
                    </div>
                </div>

                <!-- Hasil Pencarian -->
                <ul id="searchResults" class="list-group">
                    <!-- Hasil pencarian akan ditambahkan di sini -->
                    <div class="d-flex flex-wrap">
                        <div class="card mt-2 ms-2" style="width: 180px;">
                            <img src="gambar-bakso.jpg" class="card-img-top" alt="..."
                                style="height: 110px; width: 180px;">
                            <div class="card-body">
                                <h5 class="card-title">Bakso sapi</h5>
                                <p class="card-text">Rp.18.000</p>
                                <button class="btn btn-success" onclick="addToCart('Bakso-Sapi',18000)">Add</button>
                            </div>
                        </div>
                        <div class="card mt-2 ms-2" style="width: 180px;">
                            <img src="pizza (1).jpg" class="card-img-top" alt="..."
                                style="height: 110px; width: 180px;">
                            <div class="card-body">
                                <h5 class="card-title">pizza jamur</h5>
                                <p class="card-text">Rp.35.000</p>
                                <button class="btn btn-success" onclick="addToCart('Pizza Jamur',35000 )">Add</button>
                            </div>
                        </div>
                        <div class="card mt-2 ms-2" style="width: 180px;">
                            <img src="kentang goreng.jpg" class="card-img-top" alt="..."
                                style="height: 110px; width: 180px;">
                            <div class="card-body">
                                <h5 class="card-title">Kentang MCD</h5>
                                <p class="card-text">Rp.16.500</p>
                                <button class="btn btn-success"
                                    onclick="addToCart('Kentang Goreng', 16500)">Add</button>
                            </div>
                        </div>
                        <div class="card mt-2 ms-2" style="width: 180px;">
                            <img src="gambar-nasigoreng.jpg" class="card-img-top" alt="..."
                                style="height: 110px; width: 180px;">
                            <div class="card-body">
                                <h5 class="card-title">Nasi Goreng</h5>
                                <p class="card-text">Rp.23.000</p>
                                <button class="btn btn-success" onclick="addToCart('Nasi Goreng', 23000)">Add</button>
                            </div>
                        </div>
                        <div class="card mt-2 ms-2" style="width: 180px;">
                            <img src="soto-kudus.jpg" class="card-img-top" alt="..."
                                style="height: 110px; width: 180px;">
                            <div class="card-body">
                                <h5 class="card-title">Soto Kudus</h5>
                                <p class="card-text">Rp.14.000</p>
                                <button class="btn btn-success" onclick="addToCart('Soto Kudus', 14000)">Add</button>
                            </div>
                        </div>
                        <div class="card mt-2 ms-2" style="width: 180px;">
                            <img src="sate-kambing.jpg" class="card-img-top" alt="..."
                                style="height: 110px; width: 180px;">
                            <div class="card-body">
                                <h5 class="card-title">Sate Kambing </h5>
                                <p class="card-text">Rp.40.000</p>
                                <button class="btn btn-success" onclick="addToCart('Sate Kambing', 40000)">Add</button>
                            </div>
                        </div>
                        <div class="card mt-2 ms-2" style="width: 180px;">
                            <img src="ayam-bakar.jpeg" class="card-img-top" alt="..."
                                style="height: 110px; width: 180px;">
                            <div class="card-body">
                                <h5 class="card-title">Ayam Bakar</h5>
                                <p class="card-text">Rp.68.000</p>
                                <button class="btn btn-success" onclick="addToCart('Ayam Bakar', 68000)">Add</button>
                            </div>
                        </div>
                        <div class="card mt-2 ms-2" style="width: 180px;">
                            <img src="cumi-bakar.jpg" class="card-img-top" alt="..."
                                style="height: 110px; width: 180px;">
                            <div class="card-body">
                                <h5 class="card-title">Cumi Bakar</h5>
                                <p class="card-text">Rp.30.000</p>
                                <button class="btn btn-success" onclick="addToCart('Cumi Bakar', 30000)">Add</button>
                            </div>
                        </div>
                        <div class="card mt-2 ms-2" style="width: 180px;">
                            <img src="sate taichan.jpg" class="card-img-top" alt="..."
                                style="height: 110px; width: 180px;">
                            <div class="card-body">
                                <h5 class="card-title">Sate Taichan</h5>
                                <p class="card-text">Rp.15.000</p>
                                <button class="btn btn-success" onclick="addToCart('Sate Taichan', 15000)">Add</button>
                            </div>
                        </div>
                        <div class="card mt-2 ms-2" style="width: 180px;">
                            <img src="udang saus padang.jpg" class="card-img-top" alt="..."
                                style="height: 110px; width: 180px;">
                            <div class="card-body">
                                <h5 class="card-title">Udang saus Padang</h5>
                                <p class="card-text">Rp.48.000</p>
                                <button class="btn btn-success"
                                    onclick="addToCart('Udang saus Padang', 48000)">Add</button>
                            </div>
                        </div>
                        <div class="card mt-2 ms-2" style="width: 180px;">
                            <img src="salmon.jpg" class="card-img-top" alt="..." style="height: 110px; width: 180px;">
                            <div class="card-body">
                                <h5 class="card-title">Salmon Jepang</h5>
                                <p class="card-text">Rp.70.000</p>
                                <button class="btn btn-success" onclick="addToCart('Salmon Jepang', 70000)">Add</button>
                            </div>
                        </div>
                        <div class="card mt-2 ms-2" style="width: 180px;">
                            <img src="Semur Ayamjpg.jpg" class="card-img-top" alt="..."
                                style="height: 110px; width: 180px;">
                            <div class="card-body">
                                <h5 class="card-title">Semur Ayam</h5>
                                <p class="card-text">Rp.29.000</p>
                                <button class="btn btn-success" onclick="addToCart('Semur Ayam', 29000)">Add</button>
                            </div>
                        </div>
                        <div class="card mt-2 ms-2" style="width: 180px;">
                            <img src="resep-mie-ayam-ala-abang-abang-mie-ayam-street-fooMie Ayam.jpg"
                                class="card-img-top" alt="..." style="height: 110px; width: 180px;">
                            <div class="card-body">
                                <h5 class="card-title">Mie ayam</h5>
                                <p class="card-text">Rp.23.000</p>
                                <button class="btn btn-success" onclick="addToCart('Mie Ayam', 23000)">Add</button>
                            </div>
                        </div>
                        <div class="card mt-2 ms-2" style="width: 180px;">
                            <img src="martabak-manis.jpg" class="card-img-top" alt="..."
                                style="height: 110px; width: 180px;">
                            <div class="card-body">
                                <h5 class="card-title">Martabak Manis</h5>
                                <p class="card-text">Rp.38.000</p>
                                <button class="btn btn-success"
                                    onclick="addToCart('Martabak Manis', 38000)">Add</button>
                            </div>
                        </div>
                        <div class="card mt-2 ms-2" style="width: 180px;">
                            <img src="juice alpukat.jpg" class="card-img-top" alt="..."
                                style="height: 110px; width: 180px;">
                            <div class="card-body">
                                <h5 class="card-title">Juice alpukat</h5>
                                <p class="card-text">Rp.15.000</p>
                                <button class="btn btn-success" onclick="addToCart('Juice Alpukat',15000)">Add</button>
                            </div>
                        </div>
                        <div class="card mt-2 ms-2" style="width: 180px;">
                            <img src="juice Jambu.jpg" class="card-img-top" alt="..."
                                style="height: 110px; width: 180px;">
                            <div class="card-body">
                                <h5 class="card-title">Juice Jambu</h5>
                                <p class="card-text">Rp.15.000</p>
                                <button class="btn btn-success" onclick="addToCart('Juice Jambu', 15000)">Add</button>
                            </div>
                        </div>
                        <div class="card mt-2 ms-2" style="width: 180px;">
                            <img src="juice mangga.jpg" class="card-img-top" alt="..."
                                style="height: 121px; width: 180px;">
                            <div class="card-body">
                                <h5 class="card-title">juice Mangga</h5>
                                <p class="card-text">Rp.15.000</p>
                                <button class="btn btn-success" onclick="addToCart('Juice Mangga', 15000)">Add</button>
                            </div>
                        </div>
                        <div class="card mt-2 ms-2" style="width: 180px;">
                            <img src="lemon tea.jpg" class="card-img-top" alt="..."
                                style="height: 110px; width: 180px;">
                            <div class="card-body">
                                <h5 class="card-title">Lemon Tea</h5>
                                <p class="card-text">Rp.8.000</p>
                                <button class="btn btn-success" onclick="addToCart('lemon Tea', 8000)">Add</button>
                            </div>
                        </div>
                    </div>
                </ul>
            </div>
        </div>
    </div>
    </div>


</body>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

  <!-- Your additional scripts -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script>
    var maxItems = Infinity;

    // Function to add item to the cart
    function addToCart(productName, price) {
      // Check if the product is already in the cart
      var existingItem = $('#item-list .cr:contains("' + productName + '")');

      if (existingItem.length > 0) {
        // If the product is already in the cart, increment the quantity
        var currentQuantity = parseInt(existingItem.find('.quantity-input').val()) || 1;
        existingItem.find('.quantity-input').val(currentQuantity + 1);
      } else {
        // If the product is not in the cart, add it with quantity 1
        // Check the current number of items in the cart
        var currentItemCount = $('#item-list .cr').length;


        // Add the selected item to the cart with quantity 1
        $('#item-list').append(`
          <div class="cr p-2 mt-1" style="border: 1px solid; position:relative;">
            <span class="product-info">${productName} - Rp ${price}</span>
            <div class="d-flex">
            <span class="quantity-text  justify-content-start mt-2">Quantity:</span>
            <input type="number" class="quantity-input justify-content-end ms-2 mt-2" value="1" min="1" style="border:none; width:45px; background-color:transparent;">
          </div>
            <button class="btn-sm float-right delete-item" style="border:none; background-color: transparent; position: absolute;  top:30px; right:0; height:25px; width:20px;">
              <img src="sampah.png" style="height:30px; width:30px; margin-bottom:1px; margin-left: 145px;  position:absolute;  top: 0; right:0;" alt="" />
              </button>
          </div>
        `);
      }

      // Update total harga and tax in item-keranjang
      updateitembarang1();
    }

    // Handle delete item button click
    $('#item-list').on('click', '.delete-item', function () {
      $(this).closest('.cr').remove();

      // Update total harga and tax in item-keranjang after deleting an item
      updateitembarang1();
    });

    // Handle quantity change
    $('#item-list').on('change', '.quantity-input', function () {
      updateitembarang1();
    });

    // Function to update total harga and tax in item-keranjang
    function updateitembarang1() {
      var totalHarga = 0;

      // Calculate total harga
      $('#item-list .cr').each(function () {
        var priceText = $(this).find('.product-info').text().split('Rp ')[1]; // Extract the price part
        var quantity = parseFloat($(this).find('.quantity-input').val());
        totalHarga += quantity * parseFloat(priceText.replace(',', '')); // Remove commas and convert to float
      });

      // Calculate tax (10% of total harga)
      var tax = 0.1 * totalHarga;

      // Update item-keranjang
      $('#item-barang').html(`
        <div class="text-dark">
          Total Harga : Rp ${totalHarga.toLocaleString()} <br>
          Tax (10%) : Rp ${tax.toLocaleString()} <br>
          <div class="mt-2"> 
          Total Harga + Tax : Rp ${(totalHarga + tax).toLocaleString()}
        </div>
        </div>
      `);
    }

    $(document).keydown(function (event) {
  // Check if Ctrl+P is pressed
  if (event.ctrlKey && event.key === 'p') {
    // Call the printContent function
    printContent();
    
    // Prevent the default Ctrl+P behavior (opening browser print dialog)
    event.preventDefault();
  }
});

function printContent() {
  // You can customize this based on what you want to print

  var contentToPrint = $("#item-list").clone(); // Clone the item-list
  contentToPrint.find(".delete-item").remove(); // Remove the delete button from the cloned content

  // Create a new window for printing
  var printWindow = window.open('', '_blank');
  
  // Write the content to the new window
  printWindow.document.write(`
    <html>
      <head>
        <title>Print</title>
        <style>
          /* Add your custom styles for printing */
        </style>
      </head>
      <body>
        ${contentToPrint.html()} <!-- Get the HTML content from the clone -->
      </body>
    </html>
  `);

  // Close the document stream to finish loading
  printWindow.document.close();

  // Print the content
  printWindow.print();
}
   
  </script>
</html>
